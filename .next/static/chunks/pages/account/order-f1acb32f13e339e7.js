(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5621],{8504:function(e,t,_){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/order",function(){return _(3704)}])},65026:function(e,t,_){"use strict";var r=_(85893),i=_(11163),d=_.n(i),o=(_(67294),_(25675)),a=_.n(o),n=_(35812),s=_.n(n),c=_(37469),l=_(66174);t.Z=function(e){var t=e.title;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{title:t,description:t,url:""}),(0,r.jsxs)("div",{className:s().acc_section,children:[(0,r.jsx)("button",{onClick:function(){d().back()},children:(0,r.jsx)(a(),{src:l.Z.chevronLeft,alt:"icon_back",width:24,height:24,layout:"fixed"})}),(0,r.jsx)("span",{children:t})]})]})}},56603:function(e,t,_){"use strict";_.d(t,{D:function(){return r},y:function(){return i}});_(15458);var r=[{key:"PENDING",text:"Ch\u1edd thanh to\xe1n",color:"#F5D91D"},{key:"CANCELED",text:"B\u1ecb h\u1ee7y",color:"var(--text-orange)"},{key:"CANCELED_BY_USER",text:"B\u1ecb h\u1ee7y b\u1edfi ng\u01b0\u1eddi d\xf9ng",color:"var(--text-orange)"},{key:"PAID",text:"\u0110\xe3 thanh to\xe1n",color:"var(--green)"}],i={SERVICE:"App\\Models\\CI\\Service",PRODUCT:"App\\Models\\CI\\Product",COMBO:"App\\Models\\CI\\TreatmentCombo"}},3704:function(e,t,_){"use strict";_.r(t),_.d(t,{default:function(){return F}});var r=_(85893),i=_(67294),d=_(84828),o=_(65026),a=_(2275),n=_(13686),s=_(35812),c=_.n(s);function l(){var e=(0,a.H9)("/orders",n.RG),t=e.resData,_=e.onLoadMore,i=e.totalItem,o=e.isValidating,s=t;return(0,r.jsxs)("div",{children:[(0,r.jsx)("ul",{className:c().order_list_cnt,children:s.map((function(e,t){return(0,r.jsx)("li",{className:c().order_item_cnt,children:(0,r.jsx)(M,{order:e})},t)}))}),(0,r.jsx)("div",{className:c().order_bot,children:t.length>=15&&t.length<i&&(0,r.jsx)(d.dw,{title:"Xem th\xeam",loading:o,onClick:function(){t.length>=15&&t.length<i&&_()}})})]})}var m=_(26042),u=_(69396);function h(){var e=(0,a.H9)("/orders",(0,u.Z)((0,m.Z)({},n.RG),{"filter[status]":"PAID"})),t=e.resData,_=e.totalItem,i=e.onLoadMore,o=e.isValidating,s=t;return(0,r.jsxs)("div",{children:[(0,r.jsx)("ul",{className:c().order_list_cnt,children:s.map((function(e,t){return(0,r.jsx)("li",{className:c().order_item_cnt,children:(0,r.jsx)(M,{order:e})},t)}))}),(0,r.jsx)("div",{className:c().order_bot,children:t.length>=15&&t.length<_&&(0,r.jsx)(d.dw,{title:"Xem th\xeam",loading:o,onClick:function(){t.length>=15&&t.length<_&&i()}})})]})}var v=_(54776),p=_(78262),x=_(42149),g=_.n(x),j=_(11163),b=_(35922),f=_(15568),N=_(80139),y=_(16666);function C(e){var t=e.data,_=e.org,o=e.type,n=(0,j.useRouter)(),s=(0,a.oG)(),c=t.productable,l=(0,i.useState)({open:!1,title:""}),h=l[0],v=l[1],p=!1;(null===c||void 0===c?void 0:c.id)&&_&&(p=!0);var x="";"SERVICE"===o&&(x="/organizations/".concat(null===_||void 0===_?void 0:_.id,"/services/").concat(c.id)),"PRODUCT"===o&&(x="/organizations/".concat(null===_||void 0===_?void 0:_.id,"/products/").concat(c.id)),"COMBO"===o&&(x="/organizations/".concat(null===_||void 0===_?void 0:_.id,"/treatment_combo/").concat(c.id));var C,w,O=(0,a.YE)(x,p).response,Z=(0,u.Z)((0,m.Z)({},O),{type:o,name:null!==(w=null!==(C=null===O||void 0===O?void 0:O.service_name)&&void 0!==C?C:null===O||void 0===O?void 0:O.product_name)&&void 0!==w?w:null===O||void 0===O?void 0:O.name,sale_price:null===O||void 0===O?void 0:O.special_price,old_price:null===O||void 0===O?void 0:O.price}),k=function(){var e=!0;return(null===_||void 0===_?void 0:_.is_momo_ecommerce_enable)?Z.is_momo_ecommerce_enable&&O?e:(e=!1,v({open:!0,title:"Hi\u1ec7n t\u1ea1i c\u1eeda S\u1ea3n ph\u1ea9m/ d\u1ecbch v\u1ee5 kh\xf4ng c\xf2n b\xe1n Online!"})):(e=!1,v({open:!0,title:"Hi\u1ec7n t\u1ea1i c\u1eeda h\xe0ng n\xe0y kh\xf4ng c\xf2n b\xe1n Online!"}))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.Z,{open:h.open,autoHideDuration:4e3,onClose:function(){return v((0,u.Z)((0,m.Z)({},h),{open:!1}))},anchorOrigin:!1===s?{vertical:"top",horizontal:"right"}:{vertical:"bottom",horizontal:"right"},children:(0,r.jsx)(f.Z,{onClose:function(){return v((0,u.Z)((0,m.Z)({},h),{open:!1}))},severity:"warning",sx:{width:"100%"},children:h.title})}),(0,r.jsx)("div",{className:g().item_img,children:(0,r.jsx)(d.cu,{type:"IMG",src:(null===c||void 0===c?void 0:c.image)?null===c||void 0===c?void 0:c.image_url:null===_||void 0===_?void 0:_.image_url,layout:"responsive",width:"100%",height:"100%",alt:"image-item"})}),(0,r.jsxs)("div",{className:g().item_cnt,children:[(0,r.jsxs)("div",{className:g().item_cnt_top,children:[(0,r.jsxs)("div",{className:g().item_top_left,children:[(0,r.jsx)("div",{className:g().item_cnt_name,children:(null===c||void 0===c?void 0:c.service_name)||(null===c||void 0===c?void 0:c.product_name)||(null===c||void 0===c?void 0:c.name)}),(0,r.jsx)("div",{className:g().item_cnt_name_org,children:null===_||void 0===_?void 0:_.name})]}),(0,r.jsxs)("div",{className:g().item_top_right,children:["x ",null===t||void 0===t?void 0:t.quantity]})]}),(0,r.jsxs)("div",{className:g().item_cnt_bot,children:[t.discount_value>0?(0,r.jsxs)("div",{className:g().price_wrap_item,children:[(0,r.jsxs)("span",{className:g().item_bot_price,children:[(0,N.Z)((null===c||void 0===c?void 0:c.price)-(null===t||void 0===t?void 0:t.discount_value)),"\u0111"]}),(0,r.jsx)("span",{className:g().item_bot_old_price,children:(0,N.Z)(null===c||void 0===c?void 0:c.price)})]}):(0,r.jsxs)("span",{className:g().item_bot_price,children:[(0,N.Z)(null===t||void 0===t?void 0:t.base_price),"\u0111"]}),(0,r.jsxs)("div",{className:g().item_bot_btn,children:[(0,r.jsx)("div",{className:g().item_bot_btn_seemore,children:(0,r.jsx)(d.dw,{onClick:function(){k()},title:"Xem chi ti\u1ebft"})}),(0,r.jsx)("div",{className:g().item_bot_btn_preorder,children:p?(0,r.jsx)("div",{onClick:function(){return n.push("/cart")},className:g().btn_add_cart,children:(0,r.jsx)(y.qA,{img:!1,title:"\u0110\u1eb7t l\u1ea1i",item:Z,org:_,quantity:1})}):(0,r.jsx)(d.dw,{onClick:function(){k()},title:"\u0110\u1eb7t l\u1ea1i"})})]})]})]})]})}var w=_(56603),O=_(2736),Z=_(66174);var k=function(e){var t,_=null===(t=(null===e||void 0===e?void 0:e.split(" "))[0])||void 0===t?void 0:t.split("-");return"".concat(_[2],"/").concat(_[1],"/").concat(_[0])},I=i.forwardRef((function(e,t){return(0,r.jsx)(v.Z,(0,m.Z)({direction:"left",ref:t},e))}));function E(e){var t,_,i=e.open,o=e.setOpen,n=e.org,s=e.order,c=e.countItem,l=(0,a.IA)(),m=(0,j.useRouter)().locale,u=((0,j.useRouter)(),(0,a.oG)()),h=w.D.find((function(e){return e.key===s.status})),v=function(e){return{products:e.items.filter((function(e){return e.productable_type===w.y.PRODUCT})),services:e.items.filter((function(e){return e.productable_type===w.y.SERVICE})),combos:e.items.filter((function(e){return e.productable_type===w.y.COMBO}))}}(s),x=v.products,b=v.services,f=v.combos,y=!1;n.id&&i&&(y=!0);var E=(0,a.YE)("/organizations/".concat(n.id),y).response;return(0,r.jsxs)(p.Z,{TransitionComponent:!0===u?I:void 0,fullScreen:u,open:i,onClose:function(){return o(!1)},children:[(0,r.jsxs)("div",{className:g().header_order_detail_mb,children:[(0,r.jsx)("div",{className:g().header_order_img,onClick:function(){return o(!1)},children:(0,r.jsx)(d.cu,{layout:"fixed",src:Z.Z.chevronLeft,alt:"icon-back",width:24,height:24,type:"ICON"})}),(0,r.jsx)("div",{className:g().header_order_title,children:"Chi ti\u1ebft \u0111\u01a1n h\xe0ng"})]}),(0,r.jsxs)("div",{className:g().order_detail_cnt,children:[(0,r.jsxs)("div",{className:g().order_detail_head,children:[(0,r.jsx)("h2",{className:g().order_head_title,children:l.order.order_de}),(0,r.jsxs)("div",{className:g().order_head_date,children:[(0,r.jsxs)("div",{className:g().order_head_day,children:[(0,r.jsxs)("span",{children:[l.booking.date," Order:"]})," ",(0,r.jsx)("h4",{children:k(null===s||void 0===s?void 0:s.created_at)})]}),(0,r.jsxs)("div",{className:g().order_head_time,children:[(0,r.jsxs)("span",{children:[l.order.time,":"]})," ",(0,r.jsx)("h4",{children:null===s||void 0===s||null===(t=s.created_at)||void 0===t?void 0:t.split(" ")[1]})]})]})]}),(0,r.jsxs)("div",{className:g().order_detail_body,children:[(0,r.jsxs)("div",{className:g().order_detail_under_head,children:[(0,r.jsxs)("div",{className:g().order_detail_total,children:[(0,r.jsxs)("span",{children:[l.pr.total,": "]}),(0,r.jsxs)("h4",{children:[(0,N.Z)(null===s||void 0===s||null===(_=s.payment_gateway)||void 0===_?void 0:_.amount),"\u0111 (",c," item)"]})]}),(0,r.jsx)("div",{style:{backgroundColor:"".concat(null===h||void 0===h?void 0:h.color)},className:g().order_detail_status,children:(0,r.jsx)("span",{children:null===h||void 0===h?void 0:h.text})})]}),(0,r.jsxs)("div",{className:g().order_detail_org,children:[(0,r.jsx)("div",{className:g().detail_org_img,children:(0,r.jsx)(d.cu,{type:"IMG",layout:"responsive",alt:"img-org",width:"100%",height:"100%",src:null===n||void 0===n?void 0:n.image_url})}),(0,r.jsxs)("div",{className:g().detail_org_cnt,children:[(0,r.jsx)("span",{className:g().detail_org_name,children:null===n||void 0===n?void 0:n.name}),(0,r.jsx)("span",{className:g().detail_org_name,children:null===n||void 0===n?void 0:n.full_address}),(0,r.jsx)("div",{className:g().detail_org_btn,children:(0,r.jsx)(d.dw,{onClick:function(){(0,O.uB)(null===n||void 0===n?void 0:n.subdomain,m)},title:"Xem chi ti\u1ebft"})})]})]}),i&&(0,r.jsxs)(r.Fragment,{children:[b.length>0&&(0,r.jsxs)("div",{className:g().section_item,children:[(0,r.jsx)("span",{className:g().section_item_title,children:"D\u1ecbch v\u1ee5"}),(0,r.jsx)("ul",{className:g().tab_product_list,children:null===b||void 0===b?void 0:b.map((function(e,t){return(0,r.jsx)("li",{className:g().tab_product_item,children:(0,r.jsx)(C,{type:"SERVICE",data:e,org:E})},t)}))})]}),x.length>0&&(0,r.jsxs)("div",{className:g().section_item,children:[(0,r.jsx)("span",{className:g().section_item_title,children:"S\u1ea3n ph\u1ea9m"}),(0,r.jsx)("ul",{className:g().tab_product_list,children:null===x||void 0===x?void 0:x.map((function(e,t){return(0,r.jsx)("li",{className:g().tab_product_item,children:(0,r.jsx)(C,{type:"PRODUCT",data:e,org:E})},t)}))})]}),f.length>0&&(0,r.jsxs)("div",{className:g().section_item,children:[(0,r.jsx)("span",{className:g().section_item_title,children:"Combos"}),(0,r.jsx)("ul",{className:g().tab_product_list,children:f.map((function(e,t){return(0,r.jsx)("li",{className:g().tab_product_item,children:(0,r.jsx)(C,{type:"COMBO",data:e,org:E})},t)}))})]})]})]})]})]})}function M(e){var t,_,o,a,n,s,l,m=e.order,u=m.items_count,h=(0,i.useState)(!1),v=h[0],p=h[1],x=w.D.find((function(e){return e.key===(null===m||void 0===m?void 0:m.status)}));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:c().order_item,children:[(0,r.jsxs)("div",{className:c().order_item_head,children:[(0,r.jsxs)("div",{className:c().order_item_head_left,children:["M\xe3 \u0111\u01a1n h\xe0ng"," ",(0,r.jsxs)("span",{children:["#",null===m||void 0===m||null===(t=m.payment_gateway)||void 0===t?void 0:t.transaction_uuid,"-",null===m||void 0===m?void 0:m.origin_id]})]}),(0,r.jsx)("span",{onClick:function(){p(!0)},className:c().order_item_head_right,children:"Xem chi ti\u1ebft"})]}),(0,r.jsxs)("div",{className:c().order_item_date,children:[(0,r.jsxs)("div",{className:c().order_item_date_left,children:[(0,r.jsx)(d.cu,{src:Z.Z.Storefront,alt:"",width:18,height:18,layout:"fixed",type:"ICON"}),(0,r.jsx)("span",{children:null===m||void 0===m||null===(_=m.organization)||void 0===_?void 0:_.name})]}),(0,r.jsx)("span",{className:c().order_item_date_right,children:k(null===m||void 0===m?void 0:m.created_at)})]}),(0,r.jsxs)("div",{className:c().order_item__body,children:[(0,r.jsx)("div",{className:c().org_img,children:(0,r.jsx)(d.cu,{src:m.organization.image_url,layout:"responsive",alt:"org_image",width:"100",height:"100%",type:"IMG"})}),(0,r.jsxs)("div",{className:c().order_item_body_de,children:[(0,r.jsx)("span",{className:c().org__address,children:null===m||void 0===m||null===(o=m.organization)||void 0===o?void 0:o.full_address}),(0,r.jsx)("div",{className:c().order_price,children:(null===m||void 0===m?void 0:m.amount)!==(null===m||void 0===m||null===(a=m.payment_gateway)||void 0===a?void 0:a.amount)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("span",{style:{color:"var(--text-orange)"},children:[(0,N.Z)(null===m||void 0===m||null===(n=m.payment_gateway)||void 0===n?void 0:n.amount),"\u0111"]}),(0,r.jsxs)("span",{children:[(0,N.Z)(null===m||void 0===m?void 0:m.amount),"\u0111"]})]}):(0,r.jsxs)("span",{children:[(0,N.Z)(null===m||void 0===m||null===(s=m.payment_gateway)||void 0===s?void 0:s.amount),"\u0111"]})})]})]}),(0,r.jsxs)("div",{className:c().order_item__status,children:[(0,r.jsxs)("span",{className:c().order_item__status_left,children:[null===m||void 0===m?void 0:m.items_count," s\u1ea3n ph\u1ea9m/d\u1ecbch v\u1ee5"]}),(0,r.jsxs)("div",{className:c().order_item__status_right,children:[(0,r.jsxs)("span",{className:c().order_amount,children:[(0,N.Z)(null===m||void 0===m||null===(l=m.payment_gateway)||void 0===l?void 0:l.amount),"\u0111"]}),x&&(0,r.jsx)("div",{style:{backgroundColor:"".concat(x.color)},className:c().status,children:x.text})]})]})]}),(0,r.jsx)(E,{open:v,setOpen:p,org:null===m||void 0===m?void 0:m.organization,order:m,countItem:u})]})}var R=_(87285),D=_.n(R),P=_(41664),S=_.n(P),z=function(){var e=(0,j.useRouter)().query,t="";e.tab&&(t=e.tab.toString());var _=[{text:"\u0110\xe3 thanh to\xe1n",t:"paid",url:(0,O.Ac)().order_paid},{text:"T\u1ea5t c\u1ea3",t:"all",url:(0,O.Ac)().order_all}];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Z,{title:"L\u1ecbch s\u1eed \u0111\u01a1n h\xe0ng"}),(0,r.jsx)("div",{className:D().order_tab_cnt,children:_.map((function(e){return(0,r.jsx)(S(),{href:e.url,children:(0,r.jsx)("a",{style:t===e.t?{borderBottom:"solid 2px var(--purple)",color:"var(--purple)"}:{},className:D().order_tab_item,children:e.text})},e.t)}))}),(0,r.jsxs)("div",{className:D().order_body,children:["paid"===t&&(0,r.jsx)(h,{}),"all"===t&&(0,r.jsx)(l,{})]})]})};z.Layout=d.p0;var F=z},42149:function(e){e.exports={order_detail_cnt:"order_order_detail_cnt__R8Zo6",order_detail_head:"order_order_detail_head__N_2PG",price_wrap_item:"order_price_wrap_item__35P2p",item_bot_old_price:"order_item_bot_old_price__EJeLU",order_head_title:"order_order_head_title__8UmCQ",order_head_date:"order_order_head_date__pduel",order_head_day:"order_order_head_day__CjWR2",order_head_time:"order_order_head_time__Vft3h",order_detail_body:"order_order_detail_body__uPzTU",order_detail_under_head:"order_order_detail_under_head__14WEf",order_detail_total:"order_order_detail_total__xNc76",order_detail_status:"order_order_detail_status__W5qp_",detail_org_btn:"order_detail_org_btn__dOJ0C",order_detail_org:"order_order_detail_org__Ml3tZ",detail_org_img:"order_detail_org_img__kqt_z",detail_org_cnt:"order_detail_org_cnt__xEl8a",detail_org_name:"order_detail_org_name__crMSL",detail_org_tab:"order_detail_org_tab__kt9ua",detail_org_tab_btn:"order_detail_org_tab_btn__FdWNo",tab_product_list:"order_tab_product_list__QejMV",tab_service_list:"order_tab_service_list__gQO4l",tab_combo_list:"order_tab_combo_list__9K7PY",tab_product_item:"order_tab_product_item__JaKSO",item_img:"order_item_img__f_0dK",item_cnt:"order_item_cnt__Xgp7s",item_cnt_name:"order_item_cnt_name__7lprc",item_top_right:"order_item_top_right__0Ohhe",item_cnt_name_org:"order_item_cnt_name_org__IiUYQ",item_bot_price:"order_item_bot_price__v98c1",item_cnt_top:"order_item_cnt_top__qOKjd",item_cnt_bot:"order_item_cnt_bot__plMnM",item_bot_btn:"order_item_bot_btn__BBFFP",item_bot_btn_preorder:"order_item_bot_btn_preorder__6XyJo",item_bot_btn_seemore:"order_item_bot_btn_seemore__JcYso",header_order_detail_mb:"order_header_order_detail_mb__ylUi5",btn_add_cart:"order_btn_add_cart__Szq1i",header_order_img:"order_header_order_img__RA96v",header_order_title:"order_header_order_title__yhInx"}},35812:function(e){e.exports={acc_section:"acc_acc_section__60va7",order_list_cnt:"acc_order_list_cnt__0iHdE",order_item_cnt:"acc_order_item_cnt__sdzEF",order_item:"acc_order_item__MksFX",order_item_head:"acc_order_item_head__GbQ9O",order_item_head_left:"acc_order_item_head_left__dHNm8",order_item_head_right:"acc_order_item_head_right__GI6ci",order_item_date:"acc_order_item_date__N_yuD",order_item_date_left:"acc_order_item_date_left__7RYjj",order_item_date_right:"acc_order_item_date_right__ZNZ96",order_item__body:"acc_order_item__body__bo6rv",org_img:"acc_org_img__LkhQF",order_item_body_de:"acc_order_item_body_de__GPMvM",org__address:"acc_org__address__QdooY",order_price:"acc_order_price__9ypSM",order_item__status:"acc_order_item__status__1dJeI",order_item__status_left:"acc_order_item__status_left__SiO0d",order_item__status_right:"acc_order_item__status_right__wYMC6",order_amount:"acc_order_amount__wdKt6",status:"acc_status__FIjl7",order_bot:"acc_order_bot__faXzc"}},87285:function(e){e.exports={acc_form_row:"acc_acc_form_row__VMPx_",acc_form_row_label:"acc_acc_form_row_label__jyYlV",form_avatar_cnt:"acc_form_avatar_cnt__1Zqk_",acc_form_row_inp:"acc_acc_form_row_inp__ZlVbS",form_bot:"acc_form_bot__Yh8H6",order_tab_cnt:"acc_order_tab_cnt__6PDXO",order_tab_item:"acc_order_tab_item__o6xAQ",address_btn:"acc_address_btn__81zNh",address_item_cnt:"acc_address_item_cnt__94umR",address_item_head:"acc_address_item_head__Qn2hL",item_head_left:"acc_item_head_left____sTd",item_head_right:"acc_item_head_right__JBF5_",item_default:"acc_item_default__QqojF",item_text:"acc_item_text__GuO8R",item_wrapper:"acc_item_wrapper__Bl4g6",item_text_choose:"acc_item_text_choose__VlmIr",address_input:"acc_address_input__P3Cru",provinces_list_cnt:"acc_provinces_list_cnt__28snN",districts_list_cnt:"acc_districts_list_cnt__1Ys6D",wards_list_cnt:"acc_wards_list_cnt__BRI_o",list_act:"acc_list_act__3AX9X",list_item:"acc_list_item__WILzR",form_address_btn:"acc_form_address_btn__gMDDN",acc_form:"acc_acc_form__flp8u",address_list:"acc_address_list__tO8xz",form_cnt:"acc_form_cnt__MIOiQ"}}},function(e){e.O(0,[4885,7979,8826,4847,3574,5519,9774,2888,179],(function(){return t=8504,e(e.s=t);var t}));var t=e.O();_N_E=t}]);